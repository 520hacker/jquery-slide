!function(t,e,s){function a(t,s,n){this.ele=e(t),this.opt=e.extend({},a.options,s),this.callback=n||e.noop,this.valid=!0,this.init()}e.fn.slide=function(s){return this.each(function(n,o){function i(t,e,s){var a,n="must"===s?0:n;if(P){var o="scrollx"===k?"left":"top";0===t&&e===f-1&&"next"===s?d.css(o,-N):t===f-1&&0===e&&"prev"===s&&d.css(o,-x-2*L)}switch(k){case"none":c.hide().slice(h*t,h*(t+1)).show();break;case"fade":c.eq(e).fadeOut(n,D),c.eq(t).fadeIn(n,D);break;case"fadeIn":c.hide().slice(h*t,h*(t+1)).fadeIn(n,D);break;case"scrollx":a=t===f-1?w:m*t+L,d.stop().animate({left:-a},n,D);break;case"scrolly":a=t===f-1?w:m*t+L,d.stop().animate({top:-a},n,D)}r=t}var l=new a(o,s,i);if(l.valid){var r,c=l.lists,u=l.wrap,d=l.parent,h=l.cansee,p=l.cur,f=l.pages,g=l.scrolls,v=l.scrollsSigle,b=l.scrollBase,m=l.scrollValue,w=l.scrollMax,x=w,C=l.opt,k=C.effect,D=(C.duration,C.easing),P=C.seamless,T=C.doResize,y=C.scrollLen,L=0,N=0;t.console&&console.info(l),function(){var s,a=0;if(P){var n=c.slice(-h).clone(!0).attr("data-clone",!0),o=c.slice(0,h).clone(!0).attr("data-clone",!0);c=d.prepend(n).append(o).children(),N=(v-y)*b,L=v*b,a=2,w+=L+N}switch("fade,scrollx,scrolly".indexOf(k)>=0&&"static"===d.css("position")&&d.css("position","relative"),k){case"fade":"absolute"!==c.css("position")&&c.css({position:"absolute",left:0,top:0}).hide().eq(p).show();break;case"scrollx":s=c.width(),c.css({"float":"left",width:s}),d.css("width",b*g+L*a),1!==h||!T&&s!==e(t).width()||e(t).resize(function(){m=b=u.width(),w=b*(g-1),P&&(L=v*b,w=b*(g+1)),c.css("width",b),d.css("width",b*g+L*a),i(r,r,"must")})}}()}})},a.options={trigger:"mouseenter",tagClass:"current",btnClass:"disabled",duration:400,interval:5e3,hoverDelay:50,cur:0,keepTags:!1,btnLock:!1,auto:!1,easing:"swing",effect:"none",scrollLen:0,seamless:!1,lazyload:!1,doResize:!1,lists:"[data-slide=list]",tags:"[data-slide=tag]",posCur:"[data-slide=cur]",posPages:"[data-slide=pages]",btnPrev:"[data-slide=prev]",btnNext:"[data-slide=next]"},a.prototype={init:function(){var t=this,e=t.opt,s=t.ele,a=s.find(e.lists),n=s.find(e.tags),o=s.find(e.posCur),i=s.find(e.posPages),l=s.find(e.btnPrev),r=s.find(e.btnNext),c=1===a.length;return a=c?a.children():a,t.prepare(a,c),t.valid?(n.length&&(t.tags=n,t.bindTags()),l.length?(t.btnPrev=l,t.btnNext=r,t.bindBtns()):e.btnLock=!1,o.length&&(t.posCur=o,i.html(t.pages)),t.lists=a,e.auto&&t.bindAuto(),void setTimeout(function(){t.show(e.cur,"must")},0)):void n.add(o.parent()).add(l.parent()).remove()},prepare:function(t,e){var s,a,n,o,i=t.parent(),l=i.parent(),r=this,c=r.opt,u=c.effect,d="scrollx"===u,h=u.indexOf("s")>=0,p=c.scrollLen,f=t.length,g=f,v=f,b=1,m=1,w=1,x=1;return e&&(s=t.outerWidth(!0),a=t.outerHeight(!0),n=l.width(),o=l.height(),m=r.getDiv(n,s),w=r.getDiv(o,a),b=w*m,g=r.getDiv(f,d?w:m),x=d?m:w,p=0===p?x:p>x?x:p,v=r.getDiv(g-x,p)+1),console.info(w+":"+m+", scrolls:"+g+", pages:"+v),2>v?void(r.valid=!1):("none"===u&&(c.duration=0),h||(c.seamless=!1),h&&!e&&(c.seamless=!1,c.effect="none"),c.cur=c.cur>=v?v-1:c.cur,c.scrollLen=p,c.seamless&&(v=r.getDiv(g,p)),r.wrap=l,r.parent=i,r.pages=v,r.cansee=b,r.old=c.cur,void(h&&e&&(r.scrollNums=p*(d?w:m),r.scrollBase=d?s:a,r.scrollValue=r.scrollBase*p,r.scrollMax=r.scrollBase*(g-x),r.scrollsSigle=x,r.scrolls=g)))},rewriteTags:function(){var t=this,s=t.tags,a=t.pages,n=t.opt;return!n.keepTags&&1===s.length&&function(){for(var t="",e=0,n="ul"===s[0].nodeName.toLowerCase()?"<li>":"<span>",o=n.replace("<","</");a>e;)t+=n+ ++e+o;s=s.html(t).children()}(),s=s.length>1?s:s.children(),t.tags=s.removeClass(n.tagClass),s.each(function(t,s){e(s).data("i",t)}),s},bindTags:function(){var t,s,a,n=this,o=n.opt,i=o.tagClass,l=o.trigger,r="mouseenter"===l||"mouseover"===l;s=n.rewriteTags(),r&&o.hoverDelay?(a=function(){var s=e(this);clearTimeout(t),t=setTimeout(function(){n.show(s.data("i"))},o.hoverDelay)},s.on("mouseleave",function(){clearTimeout(t)})):a=function(){n.show(e(this).data("i"))},s.on(l,a),!r&&s.on("click","a",function(t){e(this).parent().hasClass(i)||t.preventDefault()})},bindBtns:function(){var t=this,s=t.old,a=t.opt,n=a.btnClass;t.btnPrev.on("click",function(){return!e(this).hasClass(n)&&t.prev(),!1}),t.btnNext.on("click",function(){return!e(this).hasClass(n)&&t.next(),!1}),a.btnLock&&(0===s?t.btnPrev.addClass(n):s===t.pages-1&&t.btnNext.addClass(n))},bindAuto:function(){var t=this;t.ele.on({mouseenter:function(){t.pause()},mouseleave:function(){t.play()}})},prev:function(){var t=this.old-1;t=0>t?this.pages-1:t,this.show(t,"prev")},next:function(){var t=this.old+1;t=t>=this.pages?0:t,this.show(t,"next")},show:function(t,s){var a=this,n=a.opt,o=a.old,i=a.tags,l=a.posCur,r=n.tagClass,c=n.btnClass,u=n.startFun;(o!==t||"must"===s)&&(i&&i.eq(o).removeClass(r).end().eq(t).addClass(r),l&&l.html(t+1),n.btnLock&&(a.btnPrev.toggleClass(c,0===t),a.btnNext.toggleClass(c,t===a.pages-1)),u&&u.call(a,t,o),a.callback.call(a,t,o,s),a.old=t,n.auto&&(a.tStartAuto=e.now(),a.auto()))},pause:function(){this.isPaused=!0},play:function(){this.isPaused=!1,this.auto(!0)},auto:function(t){var a=this,n=a.opt,o=n.duration,i=n.interval;clearTimeout(a.stopDoAuto),a.isPaused||(t&&a.tStartAuto!==s&&(i-=e.now()-a.tStartAuto),a.stopDoAuto=setTimeout(function(){!a.isPaused&&a.next()},i+o))},getDiv:function(t,e){var s=Math.floor(t/e);return t%e===0?s:s+1}},t.Slide=a}(window,jQuery);